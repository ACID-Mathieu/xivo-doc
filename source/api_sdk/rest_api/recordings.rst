**********
Recordings
**********

A recording represents the sound file of a conversation in the scope of a recording campaign.


.. _recording-properties:

Recording properties
====================

.. code-block:: javascript

    {
        "cid": "123.456",
        "start_time": "2013-01-22 14:53:33",
        "caller": "0231156897",
        "client_id": "abcd",
        "filename": "file.wav",


.. _list-recordings:

List Recordings
===============

List all recordings for the given campaign.

**Parameters**

* None

**Request**

::

   GET /1.0/recording_campaigns/<campaign_id>/
   Host: xivoserver:50051
   Accept: application/json

**Response**

::

   HTTP/1.1 200 OK
   Content-Type: application/json

.. code-block:: javascript

    {
        "total": 2,
        "items":
        [
            {
                 "cid": "123.456"
                 "campaign_id": 1,
                 ...
            },
            {
                 "cid": "456.789"
                 "campaign_id": 1,
                 ...
            }
        ]
    }


.. _search-recordings:

Search Recordings
=================

Searches recordings in the given campaign whose fields "caller" or "agent_no" match the specified key:

**Parameters**

* None

**Request**

::

   GET /1.0/recording_campaigns/<campaign_id>/search/?key=<searched number>
   Host: xivoserver:50051
   Accept: application/json

**Response**

::

   HTTP/1.1 200 OK
   Content-Type: application/json

.. code-block:: javascript

    {
        "total": 2,
        "items":
        [
            {
                 "cid": "123.456"
                 "campaign_id": 1,
                 ...
            },
            {
                 "cid": "456.789"
                 "campaign_id": 1,
                 ...
            }
        ]
    }


.. _create-recording:

Create Recording
================

Creates a recording in the given campaign. It is the responsibility of the caller to send a unique cid. However, it is advisable
to use the cid generated by Asterisk for the associated call.

**Parameters**

* None

**Request**

::

   POST /1.0/recording_campaigns/<campaign_id>/
   Host: xivoserver:50051
   Content-Type: application/json

.. code-block:: javascript

    {
      "cid": "123.456"
      "campaign_id": 1,
      ...
    }

**Response**

::

   HTTP/1.1 201 CREATED


.. _delete-recording:

Delete Recording
================

Deletes the recording in the given campaign, with the given cid.

**Parameters**

* None

**Request**

::

   DELETE /1.0/recording_campaigns/<campaign_id>/<recording_cid>
   Host: xivoserver:50051

**Response**

::

   HTTP/1.1 200 OK
