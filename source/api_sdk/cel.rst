***************************
Channel Event Logging (CEL)
***************************

CELs are the mechanism used by Asterisk to store telephony events. XiVO uses
CELs instead of CDRs since they are more accurate and flexible.

Official Documentation
======================

Asterisk's CEL documentation can be accessed online on the
`Asterisk wiki <https://wiki.asterisk.org/wiki/display/AST/Channel+Event+Logging+%28CEL%29>`_.

CEL Samples
===========

The following configuration will be used for the following examples.

* User `Tux` with extension `1000`
* User `Père Noël` with extension `1001`
* External User with number `555-555-5555`
* External calls to DID `445` are sent to `1000`
* External calls to DID `446` are sent to `1001`
* Our DID number is `555-555-6666`

Outgoing Call
-------------

#. 1000 *calls* 555-555-5555
#. 555-555-5555 *answers*
#. 555-555-5555 *hangs-up* after a few seconds

::

     id   |  eventtype   |         eventtime          | userdeftype |    cid_name    |  cid_num   | cid_ani | cid_rdnis |  cid_dnid  |   exten    | context |                 channame                 | appname |                      appdata                      | amaflags | accountcode | peeraccount |    uniqueid    |    linkedid    | userfield | peer 
   -------+--------------+----------------------------+-------------+----------------+------------+---------+-----------+------------+------------+---------+------------------------------------------+---------+---------------------------------------------------+----------+-------------+-------------+----------------+----------------+-----------+------
    54048 | CHAN_START   | 2012-03-29 09:50:00.295885 |             | Tux            | 1000       |         |           |            | 5555555555 | default | SIP/zzc0ok-00000217                      |         |                                                   |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54049 | APP_START    | 2012-03-29 09:50:00.322427 |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      | Dial    | IAX2/outgoing-trunk/95555555555,,                 |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54050 | CHAN_START   | 2012-03-29 09:50:00.322539 |             |                |            |         |           |            | s          | default | IAX2/outgoing-trunk-4451                 |         |                                                   |        3 |             |             | 1333029000.740 | 1333029000.739 |           | 
    54051 | ANSWER       | 2012-03-29 09:50:06.680481 |             |                | dial       |         |           |            | dial       | default | IAX2/outgoing-trunk-4451                 | AppDial | (Outgoing Line)                                   |        3 |             |             | 1333029000.740 | 1333029000.739 |           | 
    54052 | ANSWER       | 2012-03-29 09:50:06.680634 |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      | Dial    | IAX2/outgoing-trunk/95555555555,,                 |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54053 | BRIDGE_START | 2012-03-29 09:50:06.680678 |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      | Dial    | IAX2/outgoing-trunk/95555555555,,                 |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54054 | BRIDGE_END   | 2012-03-29 09:50:13.90645  |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      | Dial    | IAX2/outgoing-trunk/95555555555,,                 |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54055 | HANGUP       | 2012-03-29 09:50:13.906764 |             |                | dial       |         |           |            |            | outcall | IAX2/outgoing-trunk-4451                 | AppDial | (Outgoing Line)                                   |        3 |             |             | 1333029000.740 | 1333029000.739 |           | 
    54056 | CHAN_END     | 2012-03-29 09:50:13.906803 |             |                | dial       |         |           |            |            | outcall | IAX2/outgoing-trunk-4451                 | AppDial | (Outgoing Line)                                   |        3 |             |             | 1333029000.740 | 1333029000.739 |           | 
    54057 | HANGUP       | 2012-03-29 09:50:13.906855 |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      |         |                                                   |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
    54058 | CHAN_END     | 2012-03-29 09:50:13.907034 |             | 5555556666     | 5555556666 | 1000    |           | 5555555555 | dial       | outcall | SIP/zzc0ok-00000217                      |         |                                                   |        3 |             |             | 1333029000.739 | 1333029000.739 |           | 
   (11 rows)

Internal Call
-------------

#. 1000 calls 1001
#. 1001 *answers*
#. 1001 *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype | cid_name  | cid_num | cid_ani | cid_rdnis | cid_dnid | exten | context |      channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid   |   linkedid   | userfield | peer 
   ------+--------------+----------------------------+-------------+-----------+---------+---------+-----------+----------+-------+---------+---------------------+---------+-----------------+----------+-------------+-------------+--------------+--------------+-----------+------
    8527 | CHAN_START   | 2012-03-28 13:43:55.379674 |             | Tux       | 1000    |         |           |          | 1001  | default | SIP/k6ztm5-00000004 |         |                 |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8528 | APP_START    | 2012-03-28 13:43:55.435472 |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8529 | CHAN_START   | 2012-03-28 13:43:55.435726 |             | Père Noël | 1001    |         |           |          | s     | default | SIP/ge8xbi-00000005 |         |                 |        3 |             |             | 1332956635.5 | 1332956635.4 |           | 
    8530 | ANSWER       | 2012-03-28 13:43:56.672155 |             | Père Noël | 1001    | 1001    |           |          | s     | default | SIP/ge8xbi-00000005 | AppDial | (Outgoing Line) |        3 |             |             | 1332956635.5 | 1332956635.4 |           | 
    8531 | ANSWER       | 2012-03-28 13:43:56.672554 |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8532 | BRIDGE_START | 2012-03-28 13:43:56.6726   |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8533 | BRIDGE_END   | 2012-03-28 13:44:01.719856 |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8534 | HANGUP       | 2012-03-28 13:44:01.720438 |             | Père Noël | 1001    | 1001    |           |          |       | user    | SIP/ge8xbi-00000005 | AppDial | (Outgoing Line) |        3 |             |             | 1332956635.5 | 1332956635.4 |           | 
    8535 | CHAN_END     | 2012-03-28 13:44:01.720481 |             | Père Noël | 1001    | 1001    |           |          |       | user    | SIP/ge8xbi-00000005 | AppDial | (Outgoing Line) |        3 |             |             | 1332956635.5 | 1332956635.4 |           | 
    8536 | HANGUP       | 2012-03-28 13:44:01.720574 |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 |         |                 |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
    8537 | CHAN_END     | 2012-03-28 13:44:01.720985 |             | Tux       | 1000    | 1000    |           | 1001     | s     | user    | SIP/k6ztm5-00000004 |         |                 |        3 |             |             | 1332956635.4 | 1332956635.4 |           | 
   (11 rows)

#. 1000 calls 1001
#. 1001 *ignores* the call

::

     id  | eventtype  |         eventtime          | userdeftype | cid_name  | cid_num | cid_ani | cid_rdnis | cid_dnid | exten  |   context   |      channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+-----------+---------+---------+-----------+----------+--------+-------------+---------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8578 | CHAN_START | 2012-03-28 14:02:11.862776 |             | Tux       | 1000    |         |           |          | 1001   | default     | SIP/k6ztm5-0000000e |         |                 |        3 |             |             | 1332957731.14 | 1332957731.14 |           | 
    8579 | APP_START  | 2012-03-28 14:02:11.924236 |             | Tux       | 1000    | 1000    |           | 1001     | s      | user        | SIP/k6ztm5-0000000e | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332957731.14 | 1332957731.14 |           | 
    8580 | CHAN_START | 2012-03-28 14:02:11.924434 |             | Père Noël | 1001    |         |           |          | s      | default     | SIP/ge8xbi-0000000f |         |                 |        3 |             |             | 1332957731.15 | 1332957731.14 |           | 
    8581 | HANGUP     | 2012-03-28 14:02:21.05216  |             | Père Noël | 1001    | 1001    |           |          | s      | default     | SIP/ge8xbi-0000000f | AppDial | (Outgoing Line) |        3 |             |             | 1332957731.15 | 1332957731.14 |           | 
    8582 | CHAN_END   | 2012-03-28 14:02:21.052217 |             | Père Noël | 1001    | 1001    |           |          | s      | default     | SIP/ge8xbi-0000000f | AppDial | (Outgoing Line) |        3 |             |             | 1332957731.15 | 1332957731.14 |           | 
    8583 | ANSWER     | 2012-03-28 14:02:21.0547   |             | Tux       | 1000    | 1000    |           | 1001     | pickup | xivo-pickup | SIP/k6ztm5-0000000e | Answer  |                 |        3 |             |             | 1332957731.14 | 1332957731.14 |           | 
    8584 | HANGUP     | 2012-03-28 14:02:27.164036 |             | Tux       | 1000    | 1000    |           | 1001     | s      | hangup      | SIP/k6ztm5-0000000e |         |                 |        3 |             |             | 1332957731.14 | 1332957731.14 |           | 
    8585 | CHAN_END   | 2012-03-28 14:02:27.164529 |             | Tux       | 1000    | 1000    |           | 1001     | s      | hangup      | SIP/k6ztm5-0000000e |         |                 |        3 |             |             | 1332957731.14 | 1332957731.14 |           | 
   (8 rows)

Internal Call Using Originate
-----------------------------

#. 1000 calls 1001 from his XiVO client
#. 1001 *answers*
#. 1001 *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype | cid_name  | cid_num | cid_ani | cid_rdnis | cid_dnid | exten | context |      channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid   |   linkedid   | userfield | peer 
   ------+--------------+----------------------------+-------------+-----------+---------+---------+-----------+----------+-------+---------+---------------------+---------+-----------------+----------+-------------+-------------+--------------+--------------+-----------+------
    8538 | CHAN_START   | 2012-03-28 13:46:29.539804 |             | Tux       | 1000    |         |           |          | s     | default | SIP/k6ztm5-00000006 |         |                 |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8539 | ANSWER       | 2012-03-28 13:46:31.570207 |             | 1001      | 1001    | 1001    |           |          |       | default | SIP/k6ztm5-00000006 |         |                 |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8540 | APP_START    | 2012-03-28 13:46:31.633132 |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000006 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8541 | CHAN_START   | 2012-03-28 13:46:31.633316 |             | Père Noël | 1001    |         |           |          | s     | default | SIP/ge8xbi-00000007 |         |                 |        3 |             |             | 1332956791.7 | 1332956789.6 |           | 
    8542 | ANSWER       | 2012-03-28 13:46:33.356198 |             | Père Noël | 1001    | 1001    |           |          | s     | default | SIP/ge8xbi-00000007 | AppDial | (Outgoing Line) |        3 |             |             | 1332956791.7 | 1332956789.6 |           | 
    8543 | BRIDGE_START | 2012-03-28 13:46:33.356388 |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000006 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8544 | BRIDGE_END   | 2012-03-28 13:46:39.145872 |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000006 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8545 | HANGUP       | 2012-03-28 13:46:39.146556 |             | Père Noël | 1001    | 1001    |           |          |       | user    | SIP/ge8xbi-00000007 | AppDial | (Outgoing Line) |        3 |             |             | 1332956791.7 | 1332956789.6 |           | 
    8546 | CHAN_END     | 2012-03-28 13:46:39.146633 |             | Père Noël | 1001    | 1001    |           |          |       | user    | SIP/ge8xbi-00000007 | AppDial | (Outgoing Line) |        3 |             |             | 1332956791.7 | 1332956789.6 |           | 
    8547 | HANGUP       | 2012-03-28 13:46:39.14673  |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000006 |         |                 |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
    8548 | CHAN_END     | 2012-03-28 13:46:39.147224 |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000006 |         |                 |        3 |             |             | 1332956789.6 | 1332956789.6 |           | 
   (11 rows)

#. 1000 calls 1001 from his XiVO client
#. 1001 *ignores* the call

::

     id  | eventtype  |         eventtime          | userdeftype | cid_name  | cid_num | cid_ani | cid_rdnis | cid_dnid | exten | context |      channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+-----------+---------+---------+-----------+----------+-------+---------+---------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8594 | CHAN_START | 2012-03-28 14:06:36.616875 |             | Tux       | 1000    |         |           |          | s     | default | SIP/k6ztm5-00000012 |         |                 |        3 |             |             | 1332957996.18 | 1332957996.18 |           | 
    8595 | ANSWER     | 2012-03-28 14:06:41.370874 |             | 1001      | 1001    | 1001    |           |          |       | default | SIP/k6ztm5-00000012 |         |                 |        3 |             |             | 1332957996.18 | 1332957996.18 |           | 
    8596 | APP_START  | 2012-03-28 14:06:41.431579 |             | Tux       | 1000    | 1001    |           |          | s     | user    | SIP/k6ztm5-00000012 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332957996.18 | 1332957996.18 |           | 
    8597 | CHAN_START | 2012-03-28 14:06:41.431737 |             | Père Noël | 1001    |         |           |          | s     | default | SIP/ge8xbi-00000013 |         |                 |        3 |             |             | 1332958001.19 | 1332957996.18 |           | 
    8598 | HANGUP     | 2012-03-28 14:06:47.283285 |             | Père Noël | 1001    | 1001    |           |          | s     | default | SIP/ge8xbi-00000013 | AppDial | (Outgoing Line) |        3 |             |             | 1332958001.19 | 1332957996.18 |           | 
    8599 | CHAN_END   | 2012-03-28 14:06:47.283344 |             | Père Noël | 1001    | 1001    |           |          | s     | default | SIP/ge8xbi-00000013 | AppDial | (Outgoing Line) |        3 |             |             | 1332958001.19 | 1332957996.18 |           | 
    8600 | HANGUP     | 2012-03-28 14:06:53.200459 |             | Tux       | 1000    | 1001    |           |          | s     | hangup  | SIP/k6ztm5-00000012 |         |                 |        3 |             |             | 1332957996.18 | 1332957996.18 |           | 
    8601 | CHAN_END   | 2012-03-28 14:06:53.200924 |             | Tux       | 1000    | 1001    |           |          | s     | hangup  | SIP/k6ztm5-00000012 |         |                 |        3 |             |             | 1332957996.18 | 1332957996.18 |           | 
   (8 rows)

#. 1000 calls 1001 from his XiVO client
#. 1000 *ignores* the originate

::

     id  | eventtype  |         eventtime          | userdeftype | cid_name | cid_num | cid_ani | cid_rdnis | cid_dnid | exten | context |      channame       | appname | appdata | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+----------+---------+---------+-----------+----------+-------+---------+---------------------+---------+---------+----------+-------------+-------------+---------------+---------------+-----------+------
    8602 | CHAN_START | 2012-03-28 14:08:21.083271 |             | Tux      | 1000    |         |           |          | s     | default | SIP/k6ztm5-00000014 |         |         |        3 |             |             | 1332958101.20 | 1332958101.20 |           | 
    8603 | HANGUP     | 2012-03-28 14:08:34.431701 |             | 1001     | 1001    | 1001    |           |          | 1001  | default | SIP/k6ztm5-00000014 |         |         |        3 |             |             | 1332958101.20 | 1332958101.20 |           | 
    8604 | CHAN_END   | 2012-03-28 14:08:34.431759 |             | 1001     | 1001    | 1001    |           |          | 1001  | default | SIP/k6ztm5-00000014 |         |         |        3 |             |             | 1332958101.20 | 1332958101.20 |           | 
   (3 rows)

External Call
-------------

#. External user (`555-555-5555`) calls 445
#. 1000 *answers*
#. 1000 *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten |   context   |       channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-------+-------------+----------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8567 | CHAN_START   | 2012-03-28 13:58:49.004403 |             | 5555555555 | 5555555555 |            |           |          | 445   | from-extern | SIP/pcm_dev-0000000c |         |                 |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8568 | APP_START    | 2012-03-28 13:58:49.076665 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8569 | CHAN_START   | 2012-03-28 13:58:49.076842 |             | Tux        | 1000       |            |           |          | s     | default     | SIP/k6ztm5-0000000d  |         |                 |        3 |             |             | 1332957529.13 | 1332957529.12 |           | 
    8570 | ANSWER       | 2012-03-28 13:59:00.173302 |             | Tux        | 1000       | 1000       |           |          | s     | default     | SIP/k6ztm5-0000000d  | AppDial | (Outgoing Line) |        3 |             |             | 1332957529.13 | 1332957529.12 |           | 
    8571 | ANSWER       | 2012-03-28 13:59:00.173818 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8572 | BRIDGE_START | 2012-03-28 13:59:00.173872 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8573 | BRIDGE_END   | 2012-03-28 13:59:06.386394 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8574 | HANGUP       | 2012-03-28 13:59:06.38711  |             | Tux        | 1000       | 1000       |           |          |       | user        | SIP/k6ztm5-0000000d  | AppDial | (Outgoing Line) |        3 |             |             | 1332957529.13 | 1332957529.12 |           | 
    8575 | CHAN_END     | 2012-03-28 13:59:06.387153 |             | Tux        | 1000       | 1000       |           |          |       | user        | SIP/k6ztm5-0000000d  | AppDial | (Outgoing Line) |        3 |             |             | 1332957529.13 | 1332957529.12 |           | 
    8576 | HANGUP       | 2012-03-28 13:59:06.387246 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c |         |                 |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
    8577 | CHAN_END     | 2012-03-28 13:59:06.387703 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000000c |         |                 |        3 |             |             | 1332957529.12 | 1332957529.12 |           | 
   (11 rows)

#. External user (`555-555-5555`) calls 446
#. 1001 *ignores* the call

::

     id  | eventtype  |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten  |   context   |       channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+------------+------------+------------+-----------+----------+--------+-------------+----------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8620 | CHAN_START | 2012-03-28 14:12:13.940952 |             | 5555555555 | 5555555555 |            |           |          | 446    | from-extern | SIP/pcm_dev-00000019 |         |                 |        3 |             |             | 1332958333.25 | 1332958333.25 |           | 
    8621 | APP_START  | 2012-03-28 14:12:14.028157 |             | 5555555555 | 5555555555 | 5555555555 |           | 446      | s      | user        | SIP/pcm_dev-00000019 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332958333.25 | 1332958333.25 |           | 
    8622 | CHAN_START | 2012-03-28 14:12:14.02839  |             | Père Noël  | 1001       |            |           |          | s      | default     | SIP/ge8xbi-0000001a  |         |                 |        3 |             |             | 1332958334.26 | 1332958333.25 |           | 
    8623 | HANGUP     | 2012-03-28 14:12:21.070432 |             | Père Noël  | 1001       | 1001       |           |          | s      | default     | SIP/ge8xbi-0000001a  | AppDial | (Outgoing Line) |        3 |             |             | 1332958334.26 | 1332958333.25 |           | 
    8624 | CHAN_END   | 2012-03-28 14:12:21.070489 |             | Père Noël  | 1001       | 1001       |           |          | s      | default     | SIP/ge8xbi-0000001a  | AppDial | (Outgoing Line) |        3 |             |             | 1332958334.26 | 1332958333.25 |           | 
    8625 | ANSWER     | 2012-03-28 14:12:21.072653 |             | 5555555555 | 5555555555 | 5555555555 |           | 446      | pickup | xivo-pickup | SIP/pcm_dev-00000019 | Answer  |                 |        3 |             |             | 1332958333.25 | 1332958333.25 |           | 
    8626 | HANGUP     | 2012-03-28 14:12:26.202676 |             | 5555555555 | 5555555555 | 5555555555 |           | 446      | s      | hangup      | SIP/pcm_dev-00000019 |         |                 |        3 |             |             | 1332958333.25 | 1332958333.25 |           | 
    8627 | CHAN_END   | 2012-03-28 14:12:26.203237 |             | 5555555555 | 5555555555 | 5555555555 |           | 446      | s      | hangup      | SIP/pcm_dev-00000019 |         |                 |        3 |             |             | 1332958333.25 | 1332958333.25 |           | 
   (8 rows)

Blind Transfer
--------------

#. External user (`555-555-5555`) calls 445
#. 1000 *answers*
#. 1000 *blind transfer* to 1001
#. 1001 *answers*
#. 1001 *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten |   context   |       channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-------+-------------+----------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8689 | CHAN_START   | 2012-03-28 14:21:05.928445 |             | 5555555555 | 5555555555 |            |           |          | 445   | from-extern | SIP/pcm_dev-00000026 |         |                 |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8690 | APP_START    | 2012-03-28 14:21:06.016235 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8691 | CHAN_START   | 2012-03-28 14:21:06.016426 |             | Tux        | 1000       |            |           |          | s     | default     | SIP/k6ztm5-00000027  |         |                 |        3 |             |             | 1332958866.39 | 1332958865.38 |           | 
    8692 | ANSWER       | 2012-03-28 14:21:07.600329 |             | Tux        | 1000       | 1000       |           |          | s     | default     | SIP/k6ztm5-00000027  | AppDial | (Outgoing Line) |        3 |             |             | 1332958866.39 | 1332958865.38 |           | 
    8693 | ANSWER       | 2012-03-28 14:21:07.600741 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8694 | BRIDGE_START | 2012-03-28 14:21:07.6008   |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8695 | BRIDGE_END   | 2012-03-28 14:21:13.11719  |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | 1001  | default     | SIP/pcm_dev-00000026 | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8696 | HANGUP       | 2012-03-28 14:21:13.117526 |             | Tux        | 1000       | 1000       |           |          |       | default     | SIP/k6ztm5-00000027  | AppDial | (Outgoing Line) |        3 |             |             | 1332958866.39 | 1332958865.38 |           | 
    8697 | CHAN_END     | 2012-03-28 14:21:13.117574 |             | Tux        | 1000       | 1000       |           |          |       | default     | SIP/k6ztm5-00000027  | AppDial | (Outgoing Line) |        3 |             |             | 1332958866.39 | 1332958865.38 |           | 
    8698 | APP_START    | 2012-03-28 14:21:13.199251 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8699 | CHAN_START   | 2012-03-28 14:21:13.199432 |             | Père Noël  | 1001       |            |           |          | s     | default     | SIP/ge8xbi-00000028  |         |                 |        3 |             |             | 1332958873.40 | 1332958865.38 |           | 
    8700 | ANSWER       | 2012-03-28 14:21:16.573668 |             | Père Noël  | 1001       | 1001       |           |          | s     | default     | SIP/ge8xbi-00000028  | AppDial | (Outgoing Line) |        3 |             |             | 1332958873.40 | 1332958865.38 |           | 
    8701 | BRIDGE_START | 2012-03-28 14:21:16.573876 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8702 | BRIDGE_END   | 2012-03-28 14:21:23.120075 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8703 | HANGUP       | 2012-03-28 14:21:23.120393 |             | Père Noël  | 1001       | 1001       |           |          |       | user        | SIP/ge8xbi-00000028  | AppDial | (Outgoing Line) |        3 |             |             | 1332958873.40 | 1332958865.38 |           | 
    8704 | CHAN_END     | 2012-03-28 14:21:23.120436 |             | Père Noël  | 1001       | 1001       |           |          |       | user        | SIP/ge8xbi-00000028  | AppDial | (Outgoing Line) |        3 |             |             | 1332958873.40 | 1332958865.38 |           | 
    8705 | HANGUP       | 2012-03-28 14:21:23.120533 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 |         |                 |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
    8706 | CHAN_END     | 2012-03-28 14:21:23.120981 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000026 |         |                 |        3 |             |             | 1332958865.38 | 1332958865.38 |           | 
   (18 rows)

#. External user (`555-555-5555`) calls 445
#. 1000 *answers*
#. 1000 *blind transfer* to 1001 from his XiVO client
#. 1001 *ignores* the call

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten  |   context   |       channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+--------+-------------+----------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8736 | CHAN_START   | 2012-03-28 14:37:16.228527 |             | 5555555555 | 5555555555 |            |           |          | 445    | from-extern | SIP/pcm_dev-0000002e |         |                 |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8737 | APP_START    | 2012-03-28 14:37:16.310874 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | user        | SIP/pcm_dev-0000002e | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8738 | CHAN_START   | 2012-03-28 14:37:16.311033 |             | Tux        | 1000       |            |           |          | s      | default     | SIP/k6ztm5-0000002f  |         |                 |        3 |             |             | 1332959836.47 | 1332959836.46 |           | 
    8739 | ANSWER       | 2012-03-28 14:37:18.863805 |             | Tux        | 1000       | 1000       |           |          | s      | default     | SIP/k6ztm5-0000002f  | AppDial | (Outgoing Line) |        3 |             |             | 1332959836.47 | 1332959836.46 |           | 
    8740 | ANSWER       | 2012-03-28 14:37:18.863995 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | user        | SIP/pcm_dev-0000002e | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8741 | BRIDGE_START | 2012-03-28 14:37:18.86402  |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | user        | SIP/pcm_dev-0000002e | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8742 | BRIDGE_END   | 2012-03-28 14:37:23.50673  |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | 1001   | default     | SIP/pcm_dev-0000002e | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8743 | HANGUP       | 2012-03-28 14:37:23.506776 |             | Tux        | 1000       | 1000       |           |          |        | default     | SIP/k6ztm5-0000002f  | AppDial | (Outgoing Line) |        3 |             |             | 1332959836.47 | 1332959836.46 |           | 
    8744 | CHAN_END     | 2012-03-28 14:37:23.507286 |             | Tux        | 1000       | 1000       |           |          |        | default     | SIP/k6ztm5-0000002f  | AppDial | (Outgoing Line) |        3 |             |             | 1332959836.47 | 1332959836.46 |           | 
    8745 | APP_START    | 2012-03-28 14:37:23.568572 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | user        | SIP/pcm_dev-0000002e | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8746 | CHAN_START   | 2012-03-28 14:37:23.568773 |             | Père Noël  | 1001       |            |           |          | s      | default     | SIP/ge8xbi-00000030  |         |                 |        3 |             |             | 1332959843.48 | 1332959836.46 |           | 
    8747 | HANGUP       | 2012-03-28 14:37:28.065358 |             | Père Noël  | 1001       | 1001       |           |          | s      | default     | SIP/ge8xbi-00000030  | AppDial | (Outgoing Line) |        3 |             |             | 1332959843.48 | 1332959836.46 |           | 
    8748 | CHAN_END     | 2012-03-28 14:37:28.065415 |             | Père Noël  | 1001       | 1001       |           |          | s      | default     | SIP/ge8xbi-00000030  | AppDial | (Outgoing Line) |        3 |             |             | 1332959843.48 | 1332959836.46 |           | 
    8749 | ANSWER       | 2012-03-28 14:37:28.067965 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | pickup | xivo-pickup | SIP/pcm_dev-0000002e | Answer  |                 |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8750 | HANGUP       | 2012-03-28 14:37:33.132613 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | hangup      | SIP/pcm_dev-0000002e |         |                 |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
    8751 | CHAN_END     | 2012-03-28 14:37:33.133324 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s      | hangup      | SIP/pcm_dev-0000002e |         |                 |        3 |             |             | 1332959836.46 | 1332959836.46 |           | 
   (16 rows)

Attended transfer
-----------------

#. External user (`555-555-5555`) calls 445
#. 1000 *answers*
#. 1000 initiate an *attended transfer* to 1001
#. 1001 *answers* and talks to 1001
#. 1000 completes the transfer
#. 1001 *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten |   context   |          channame           | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-------+-------------+-----------------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8768 | HANGUP       | 2012-03-28 14:52:41.916113 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000031        |         |                 |        3 |             |             | 1332960744.49 | 1332960744.49 |           | 
    8769 | CHAN_END     | 2012-03-28 14:52:41.916516 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000031        |         |                 |        3 |             |             | 1332960744.49 | 1332960744.49 |           | 
    8770 | CHAN_START   | 2012-03-28 14:52:56.055872 |             | 5555555555 | 5555555555 |            |           |          | 445   | from-extern | SIP/pcm_dev-00000034        |         |                 |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8771 | APP_START    | 2012-03-28 14:52:56.130032 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8772 | CHAN_START   | 2012-03-28 14:52:56.130213 |             | Tux        | 1000       |            |           |          | s     | default     | SIP/k6ztm5-00000035         |         |                 |        3 |             |             | 1332960776.53 | 1332960776.52 |           | 
    8773 | ANSWER       | 2012-03-28 14:52:57.701373 |             | Tux        | 1000       | 1000       |           |          | s     | default     | SIP/k6ztm5-00000035         | AppDial | (Outgoing Line) |        3 |             |             | 1332960776.53 | 1332960776.52 |           | 
    8774 | ANSWER       | 2012-03-28 14:52:57.701866 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8775 | BRIDGE_START | 2012-03-28 14:52:57.701925 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8776 | CHAN_START   | 2012-03-28 14:53:04.604461 |             | Tux        | 1000       |            |           |          | 1001  | default     | SIP/k6ztm5-00000036         |         |                 |        3 |             |             | 1332960784.54 | 1332960784.54 |           | 
    8777 | APP_START    | 2012-03-28 14:53:04.665818 |             | Tux        | 1000       | 1000       |           | 1001     | s     | user        | SIP/k6ztm5-00000036         | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332960784.54 | 1332960784.54 |           | 
    8778 | CHAN_START   | 2012-03-28 14:53:04.665996 |             | Père Noël  | 1001       |            |           |          | s     | default     | SIP/ge8xbi-00000037         |         |                 |        3 |             |             | 1332960784.55 | 1332960784.54 |           | 
    8779 | ANSWER       | 2012-03-28 14:53:06.314275 |             | Père Noël  | 1001       | 1001       |           |          | s     | default     | SIP/ge8xbi-00000037         | AppDial | (Outgoing Line) |        3 |             |             | 1332960784.55 | 1332960784.54 |           | 
    8780 | ANSWER       | 2012-03-28 14:53:06.314717 |             | Tux        | 1000       | 1000       |           | 1001     | s     | user        | SIP/k6ztm5-00000036         | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332960784.54 | 1332960784.54 |           | 
    8781 | BRIDGE_START | 2012-03-28 14:53:06.314762 |             | Tux        | 1000       | 1000       |           | 1001     | s     | user        | SIP/k6ztm5-00000036         | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332960784.54 | 1332960784.54 |           | 
    8782 | HANGUP       | 2012-03-28 14:53:12.226404 |             | Tux        | 1000       | 1000       |           |          |       | user        | SIP/k6ztm5-00000035         | AppDial | (Outgoing Line) |        3 |             |             | 1332960776.53 | 1332960776.52 |           | 
    8783 | CHAN_END     | 2012-03-28 14:53:12.226445 |             | Tux        | 1000       | 1000       |           |          |       | user        | SIP/k6ztm5-00000035         | AppDial | (Outgoing Line) |        3 |             |             | 1332960776.53 | 1332960776.52 |           | 
    8784 | HANGUP       | 2012-03-28 14:53:12.22654  |             | Tux        | 1000       | 1000       |           | 1001     | s     | user        | SIP/k6ztm5-00000036<ZOMBIE> |         |                 |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8785 | CHAN_END     | 2012-03-28 14:53:12.226566 |             | Tux        | 1000       | 1000       |           | 1001     | s     | user        | SIP/k6ztm5-00000036<ZOMBIE> |         |                 |        3 |             |             | 1332960776.52 | 1332960776.52 |           | 
    8786 | BRIDGE_END   | 2012-03-28 14:53:18.145645 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        | Dial    | SIP/ge8xbi,30,  |        3 |             |             | 1332960784.54 | 1332960776.52 |           | 
    8787 | HANGUP       | 2012-03-28 14:53:18.146582 |             | Père Noël  | 1001       | 1001       |           |          |       | user        | SIP/ge8xbi-00000037         | AppDial | (Outgoing Line) |        3 |             |             | 1332960784.55 | 1332960776.52 |           | 
    8788 | CHAN_END     | 2012-03-28 14:53:18.14666  |             | Père Noël  | 1001       | 1001       |           |          |       | user        | SIP/ge8xbi-00000037         | AppDial | (Outgoing Line) |        3 |             |             | 1332960784.55 | 1332960776.52 |           | 
    8789 | HANGUP       | 2012-03-28 14:53:18.146789 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        |         |                 |        3 |             |             | 1332960784.54 | 1332960776.52 |           | 
    8790 | CHAN_END     | 2012-03-28 14:53:18.147343 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-00000034        |         |                 |        3 |             |             | 1332960784.54 | 1332960776.52 |           | 
   (23 rows)

Voice Mail
----------

#. External user (`555-555-55555`) *calls* 445
#. 1000 *ignores* the call
#. External user *leaves* a message
#. External user *hangs up*

::

     id  | eventtype  |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten |   context   |       channame       | appname |     appdata     | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-------+-------------+----------------------+---------+-----------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8814 | CHAN_START | 2012-03-28 15:18:11.270723 |             | 5555555555 | 5555555555 |            |           |          | 445   | from-extern | SIP/pcm_dev-0000003e |         |                 |        3 |             |             | 1332962291.62 | 1332962291.62 |           | 
    8815 | APP_START  | 2012-03-28 15:18:11.347544 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | user        | SIP/pcm_dev-0000003e | Dial    | SIP/k6ztm5,30,  |        3 |             |             | 1332962291.62 | 1332962291.62 |           | 
    8816 | CHAN_START | 2012-03-28 15:18:11.347707 |             | Tux        | 1000       |            |           |          | s     | default     | SIP/k6ztm5-0000003f  |         |                 |        3 |             |             | 1332962291.63 | 1332962291.62 |           | 
    8817 | HANGUP     | 2012-03-28 15:18:11.644857 |             | Tux        | 1000       | 1000       |           |          | s     | default     | SIP/k6ztm5-0000003f  | AppDial | (Outgoing Line) |        3 |             |             | 1332962291.63 | 1332962291.62 |           | 
    8818 | CHAN_END   | 2012-03-28 15:18:11.645103 |             | Tux        | 1000       | 1000       |           |          | s     | default     | SIP/k6ztm5-0000003f  | AppDial | (Outgoing Line) |        3 |             |             | 1332962291.63 | 1332962291.62 |           | 
    8819 | HANGUP     | 2012-03-28 15:18:11.645858 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | hangup      | SIP/pcm_dev-0000003e |         |                 |        3 |             |             | 1332962291.62 | 1332962291.62 |           | 
    8820 | CHAN_END   | 2012-03-28 15:18:11.645891 |             | 5555555555 | 5555555555 | 5555555555 |           | 445      | s     | hangup      | SIP/pcm_dev-0000003e |         |                 |        3 |             |             | 1332962291.62 | 1332962291.62 |           | 
   (7 rows)

#. 1000 consults his voicemail
#. 1000 presses 1 to hear his message
#. 1000 presses 7 to delete his message
#. 1000 *hangs up*

::

     id  | eventtype  |         eventtime          | userdeftype | cid_name | cid_num | cid_ani | cid_rdnis | cid_dnid | exten  |   context   |      channame       | appname | appdata | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+----------+---------+---------+-----------+----------+--------+-------------+---------------------+---------+---------+----------+-------------+-------------+---------------+---------------+-----------+------
    8821 | CHAN_START | 2012-03-28 15:24:27.929536 |             | Tux      | 1000    |         |           |          | *98    | default     | SIP/k6ztm5-00000040 |         |         |        3 |             |             | 1332962667.64 | 1332962667.64 |           | 
    8822 | ANSWER     | 2012-03-28 15:24:27.946719 |             | Tux      | 1000    | 1000    |           | *98      | pickup | xivo-pickup | SIP/k6ztm5-00000040 | Answer  |         |        3 |             |             | 1332962667.64 | 1332962667.64 |           | 
    8823 | HANGUP     | 2012-03-28 15:25:09.215869 |             | Tux      | 1000    | 1000    |           | *98      | s      | vmusermsg   | SIP/k6ztm5-00000040 |         |         |        3 |             |             | 1332962667.64 | 1332962667.64 |           | 
    8824 | CHAN_END   | 2012-03-28 15:25:09.215914 |             | Tux      | 1000    | 1000    |           | *98      | s      | vmusermsg   | SIP/k6ztm5-00000040 |         |         |        3 |             |             | 1332962667.64 | 1332962667.64 |           | 
   (4 rows)

Call Forward
------------

#. 1000 enable unconditional call forwarding to 1001 using `*211001`

::

     id  | eventtype  |         eventtime          | userdeftype | cid_name | cid_num | cid_ani | cid_rdnis | cid_dnid |  exten  |     context     |      channame       | appname | appdata | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+------------+----------------------------+-------------+----------+---------+---------+-----------+----------+---------+-----------------+---------------------+---------+---------+----------+-------------+-------------+---------------+---------------+-----------+------
    8825 | CHAN_START | 2012-03-29 07:48:37.660366 |             | Tux      | 1000    |         |           |          | *211001 | default         | SIP/k6ztm5-00000041 |         |         |        3 |             |             | 1333021717.65 | 1333021717.65 |           | 
    8826 | ANSWER     | 2012-03-29 07:48:37.662976 |             | Tux      | 1000    | 1000    |           | *211001  | pickup  | xivo-pickup     | SIP/k6ztm5-00000041 | Answer  |         |        3 |             |             | 1333021717.65 | 1333021717.65 |           | 
    8827 | HANGUP     | 2012-03-29 07:48:41.12148  |             | Tux      | 1000    | 1000    |           | *211001  | enabled | feature_forward | SIP/k6ztm5-00000041 |         |         |        3 |             |             | 1333021717.65 | 1333021717.65 |           | 
    8828 | CHAN_END   | 2012-03-29 07:48:41.121864 |             | Tux      | 1000    | 1000    |           | *211001  | enabled | feature_forward | SIP/k6ztm5-00000041 |         |         |        3 |             |             | 1333021717.65 | 1333021717.65 |           | 
   (4 rows)

#. External user calls 445
#. The call is *forwarded* to 1001
#. 1001 *answers*
#. External user *hangs up* after a few seconds

::

     id  |  eventtype    |         eventtime          | userdeftype   |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid | exten             |   context   |       channame       | appname         |     appdata             | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+---------------+----------------------------+---------------+------------+------------+------------+-----------+----------+-------------------+-------------+----------------------+-----------------+-------------------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8829 | CHAN_START    | 2012-03-29 07:57:05.918708 |               | 5555555555 | 5555555555 |            |           |          | 445               | from-extern | SIP/pcm_dev-00000042 |                 |                         |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8830 | XIVO_USER_FWD | 2012-03-29 07:57:05.982490 | XIVO_USER_FWD | 5555555555 | 5555555555 | 5555555555 |           | 445      | forward_voicemail | user        | SIP/pcm_dev-00000042 | CELGenUserEvent | XIVO_USER_FWD, NUM:1001 |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8831 | ANSWER        | 2012-03-29 07:57:05.982497 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | pickup            | xivo-pickup | SIP/pcm_dev-00000042 | Answer          |                         |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8832 | APP_START     | 2012-03-29 07:57:10.269364 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | s                 | user        | SIP/pcm_dev-00000042 | Dial            | SIP/ge8xbi,30,          |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8833 | CHAN_START    | 2012-03-29 07:57:10.26958  |               | Père Noël  | 1001       |            |           |          | s                 | default     | SIP/ge8xbi-00000043  |                 |                         |        3 |             |             | 1333022230.67 | 1333022225.66 |           | 
    8834 | ANSWER        | 2012-03-29 07:57:13.744093 |               | Père Noël  | 1001       | 1001       |           |          | s                 | default     | SIP/ge8xbi-00000043  | AppDial         | (Outgoing Line)         |        3 |             |             | 1333022230.67 | 1333022225.66 |           | 
    8835 | BRIDGE_START  | 2012-03-29 07:57:13.744248 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | s                 | user        | SIP/pcm_dev-00000042 | Dial            | SIP/ge8xbi,30,          |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8836 | BRIDGE_END    | 2012-03-29 07:57:24.586868 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | s                 | user        | SIP/pcm_dev-00000042 | Dial            | SIP/ge8xbi,30,          |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8837 | HANGUP        | 2012-03-29 07:57:24.587584 |               | Père Noël  | 1001       | 1001       |           |          |                   | user        | SIP/ge8xbi-00000043  | AppDial         | (Outgoing Line)         |        3 |             |             | 1333022230.67 | 1333022225.66 |           | 
    8838 | CHAN_END      | 2012-03-29 07:57:24.588184 |               | Père Noël  | 1001       | 1001       |           |          |                   | user        | SIP/ge8xbi-00000043  | AppDial         | (Outgoing Line)         |        3 |             |             | 1333022230.67 | 1333022225.66 |           | 
    8839 | HANGUP        | 2012-03-29 07:57:24.588304 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | s                 | user        | SIP/pcm_dev-00000042 |                 |                         |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
    8840 | CHAN_END      | 2012-03-29 07:57:24.588359 |               | 5555555555 | 5555555555 | 5555555555 |           | 445      | s                 | user        | SIP/pcm_dev-00000042 |                 |                         |        3 |             |             | 1333022225.66 | 1333022225.66 |           | 
   (11 rows)

Call To a Queue
---------------

#. External user *calls* 444
#. The call is distributed to queue service
#. Agent 1234 (Père Noël 1001) *answers*
#. External user *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid |      exten      |   context   |             channame              | appname  |              appdata              | amaflags | accountcode | peeraccount |   uniqueid   |   linkedid   | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-----------------+-------------+-----------------------------------+----------+-----------------------------------+----------+-------------+-------------+--------------+--------------+-----------+------
    8859 | CHAN_START   | 2012-03-29 08:18:13.983343 |             | 5555555555 | 5555555555 |            |           |          | 444             | from-extern | SIP/pcm_dev-00000002              |          |                                   |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
    8860 | ANSWER       | 2012-03-29 08:18:14.049882 |             | 5555555555 | 5555555555 | 5555555555 |           | 444      | s               | queue       | SIP/pcm_dev-00000002              | AGI      | agi://127.0.0.1/holdtime_announce |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
    8861 | ANSWER       | 2012-03-29 08:18:19.042273 |             | 5555555555 | 5555555555 | 5555555555 |           | 444      | pickup          | xivo-pickup | SIP/pcm_dev-00000002              | Answer   |                                   |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
    8862 | APP_START    | 2012-03-29 08:18:20.113057 |             | 5555555555 | 5555555555 | 5555555555 |           | 444      | s               | queue       | SIP/pcm_dev-00000002              | Queue    | service,tT,,,,,,,,,               |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
    8863 | CHAN_START   | 2012-03-29 08:18:20.116129 |             |            |            |            |           |          | 1001            | default     | Local/1001@default-b470;1         |          |                                   |        3 |             |             | 1333023500.3 | 1333023493.2 |           | 
    8864 | CHAN_START   | 2012-03-29 08:18:20.116184 |             |            |            |            |           |          | 1001            | default     | Local/1001@default-b470;2         |          |                                   |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8865 | CHAN_START   | 2012-03-29 08:18:20.11623  |             |            |            |            |           |          | 1001            | default     | Agent/1234                        |          |                                   |        3 |             |             | 1333023500.5 | 1333023493.2 |           | 
    8866 | APP_START    | 2012-03-29 08:18:20.213517 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1001@default-b470;2         | Dial     | SIP/ge8xbi,30,                    |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8867 | CHAN_START   | 2012-03-29 08:18:20.213719 |             | Père Noël  | 1001       |            |           |          | s               | default     | SIP/ge8xbi-00000003               |          |                                   |        3 |             |             | 1333023500.6 | 1333023493.2 |           | 
    8868 | ANSWER       | 2012-03-29 08:18:23.174506 |             | Père Noël  | 1001       | 1001       |           |          | dial_from_queue | default     | SIP/ge8xbi-00000003               | AppDial  | (Outgoing Line)                   |        3 |             |             | 1333023500.6 | 1333023493.2 |           | 
    8869 | ANSWER       | 2012-03-29 08:18:23.174666 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1001@default-b470;2         | Dial     | SIP/ge8xbi,30,                    |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8870 | BRIDGE_START | 2012-03-29 08:18:23.174713 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1001@default-b470;2         | Dial     | SIP/ge8xbi,30,                    |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8871 | ANSWER       | 2012-03-29 08:18:23.175011 |             | Père Noël  | 1001       |            |           |          | 1001            | default     | Local/1001@default-b470;1         |          |                                   |        3 |             |             | 1333023500.3 | 1333023493.2 |           | 
    8872 | HANGUP       | 2012-03-29 08:18:23.367533 |             | Père Noël  | 1001       | 1001       |           |          |                 | user        | Local/1001@default-b470;1<ZOMBIE> | AppDial  | (Outgoing Line)                   |        3 |             |             | 1333023500.6 | 1333023493.2 |           | 
    8873 | CHAN_END     | 2012-03-29 08:18:23.367547 |             | Père Noël  | 1001       | 1001       |           |          |                 | user        | Local/1001@default-b470;1<ZOMBIE> | AppDial  | (Outgoing Line)                   |        3 |             |             | 1333023500.6 | 1333023493.2 |           | 
    8874 | HANGUP       | 2012-03-29 08:18:23.367592 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1001@default-b470;2         |          |                                   |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8875 | CHAN_END     | 2012-03-29 08:18:23.367604 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1001@default-b470;2         |          |                                   |        3 |             |             | 1333023500.4 | 1333023493.2 |           | 
    8876 | HANGUP       | 2012-03-29 08:18:31.818877 |             |            | 444        |            |           |          | s               | default     | Agent/1234                        | AppQueue | (Outgoing Line)                   |        3 |             |             | 1333023500.5 | 1333023493.2 |           | 
    8877 | HANGUP       | 2012-03-29 08:18:31.818928 |             | Père Noël  | 1001       |            |           |          | 1001            | default     | SIP/ge8xbi-00000003               |          |                                   |        3 |             |             | 1333023500.3 | 1333023493.2 |           | 
    8878 | CHAN_END     | 2012-03-29 08:18:31.81938  |             | Père Noël  | 1001       |            |           |          | 1001            | default     | SIP/ge8xbi-00000003               |          |                                   |        3 |             |             | 1333023500.3 | 1333023493.2 |           | 
    8879 | CHAN_END     | 2012-03-29 08:18:31.819443 |             |            | 444        |            |           |          | s               | default     | Agent/1234                        | AppQueue | (Outgoing Line)                   |        3 |             |             | 1333023500.5 | 1333023493.2 |           | 
    8880 | HANGUP       | 2012-03-29 08:18:31.823143 |             | 5555555555 | 5555555555 | 5555555555 |           | 444      | s               | hangup      | SIP/pcm_dev-00000002              |          |                                   |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
    8881 | CHAN_END     | 2012-03-29 08:18:31.823175 |             | 5555555555 | 5555555555 | 5555555555 |           | 444      | s               | hangup      | SIP/pcm_dev-00000002              |          |                                   |        3 |             |             | 1333023493.2 | 1333023493.2 |           | 
   (23 rows)

Call To the Operator
--------------------

#. External user *calls* 447
#. The call is routed to the operator (Tux 1000/Agent 9999)
#. The operator *hangs up* after a few seconds

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid |      exten      |   context   |             channame              | appname  |       appdata        | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-----------------+-------------+-----------------------------------+----------+----------------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8943 | CHAN_START   | 2012-03-29 08:47:54.875967 |             | 5555555555 | 5555555555 |            |           |          | 447             | from-extern | SIP/pcm_dev-0000000a              |          |                      |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8944 | ANSWER       | 2012-03-29 08:47:54.952265 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | pickup          | xivo-pickup | SIP/pcm_dev-0000000a              | Answer   |                      |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8945 | APP_START    | 2012-03-29 08:47:56.050332 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-0000000a              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8946 | CHAN_START   | 2012-03-29 08:47:56.05637  |             |            |            |            |           |          | 1000            | default     | Local/1000@default-8c56;1         |          |                      |        3 |             |             | 1333025276.20 | 1333025274.19 |           | 
    8947 | CHAN_START   | 2012-03-29 08:47:56.056423 |             |            |            |            |           |          | 1000            | default     | Local/1000@default-8c56;2         |          |                      |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8948 | CHAN_START   | 2012-03-29 08:47:56.056462 |             |            |            |            |           |          | 1000            | default     | Agent/9999                        |          |                      |        3 |             |             | 1333025276.22 | 1333025274.19 |           | 
    8949 | APP_START    | 2012-03-29 08:47:56.10545  |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-8c56;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8950 | CHAN_START   | 2012-03-29 08:47:56.105603 |             | Tux        | 1000       |            |           |          | s               | default     | SIP/k6ztm5-0000000b               |          |                      |        3 |             |             | 1333025276.23 | 1333025274.19 |           | 
    8951 | ANSWER       | 2012-03-29 08:47:59.401063 |             | Tux        | 1000       | 1000       |           |          | dial_from_queue | default     | SIP/k6ztm5-0000000b               | AppDial  | (Outgoing Line)      |        3 |             |             | 1333025276.23 | 1333025274.19 |           | 
    8952 | ANSWER       | 2012-03-29 08:47:59.401188 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-8c56;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8953 | BRIDGE_START | 2012-03-29 08:47:59.401228 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-8c56;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8954 | ANSWER       | 2012-03-29 08:47:59.40153  |             | Tux        | 1000       |            |           |          | 1000            | default     | Local/1000@default-8c56;1         |          |                      |        3 |             |             | 1333025276.20 | 1333025274.19 |           | 
    8955 | ANSWER       | 2012-03-29 08:47:59.401556 |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333025276.22 | 1333025274.19 |           | 
    8956 | BRIDGE_START | 2012-03-29 08:47:59.417761 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-0000000a              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8957 | HANGUP       | 2012-03-29 08:47:59.535268 |             | Tux        | 1000       | 1000       |           |          |                 | user        | Local/1000@default-8c56;1<ZOMBIE> | AppDial  | (Outgoing Line)      |        3 |             |             | 1333025276.23 | 1333025274.19 |           | 
    8958 | CHAN_END     | 2012-03-29 08:47:59.535306 |             | Tux        | 1000       | 1000       |           |          |                 | user        | Local/1000@default-8c56;1<ZOMBIE> | AppDial  | (Outgoing Line)      |        3 |             |             | 1333025276.23 | 1333025274.19 |           | 
    8959 | HANGUP       | 2012-03-29 08:47:59.535397 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-8c56;2         |          |                      |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8960 | CHAN_END     | 2012-03-29 08:47:59.535425 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-8c56;2         |          |                      |        3 |             |             | 1333025276.21 | 1333025274.19 |           | 
    8961 | HANGUP       | 2012-03-29 08:48:03.879393 |             | Tux        | 1000       |            |           |          | 1000            | default     | SIP/k6ztm5-0000000b               |          |                      |        3 |             |             | 1333025276.20 | 1333025274.19 |           | 
    8962 | CHAN_END     | 2012-03-29 08:48:03.87946  |             | Tux        | 1000       |            |           |          | 1000            | default     | SIP/k6ztm5-0000000b               |          |                      |        3 |             |             | 1333025276.20 | 1333025274.19 |           | 
    8963 | BRIDGE_END   | 2012-03-29 08:48:03.87952  |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-0000000a              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8964 | HANGUP       | 2012-03-29 08:48:03.882675 |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333025276.22 | 1333025274.19 |           | 
    8965 | CHAN_END     | 2012-03-29 08:48:03.882709 |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333025276.22 | 1333025274.19 |           | 
    8966 | HANGUP       | 2012-03-29 08:48:03.882873 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-0000000a              |          |                      |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
    8967 | CHAN_END     | 2012-03-29 08:48:03.883324 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-0000000a              |          |                      |        3 |             |             | 1333025274.19 | 1333025274.19 |           | 
   (25 rows)

#. External user *calls* 447
#. The call is routed to the operator (Tux 1000/Agent 9999)
#. The operator *transfers* the call to 1001

::

     id  |  eventtype   |         eventtime          | userdeftype |  cid_name  |  cid_num   |  cid_ani   | cid_rdnis | cid_dnid |      exten      |   context   |             channame              | appname  |       appdata        | amaflags | accountcode | peeraccount |   uniqueid    |   linkedid    | userfield | peer 
   ------+--------------+----------------------------+-------------+------------+------------+------------+-----------+----------+-----------------+-------------+-----------------------------------+----------+----------------------+----------+-------------+-------------+---------------+---------------+-----------+------
    8911 | CHAN_START   | 2012-03-29 08:41:14.215721 |             | 5555555555 | 5555555555 |            |           |          | 447             | from-extern | SIP/pcm_dev-00000007              |          |                      |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8912 | ANSWER       | 2012-03-29 08:41:14.301682 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | pickup          | xivo-pickup | SIP/pcm_dev-00000007              | Answer   |                      |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8913 | APP_START    | 2012-03-29 08:41:15.37998  |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-00000007              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8914 | CHAN_START   | 2012-03-29 08:41:15.386099 |             |            |            |            |           |          | 1000            | default     | Local/1000@default-7729;1         |          |                      |        3 |             |             | 1333024875.14 | 1333024874.13 |           | 
    8915 | CHAN_START   | 2012-03-29 08:41:15.38615  |             |            |            |            |           |          | 1000            | default     | Local/1000@default-7729;2         |          |                      |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8916 | CHAN_START   | 2012-03-29 08:41:15.386214 |             |            |            |            |           |          | 1000            | default     | Agent/9999                        |          |                      |        3 |             |             | 1333024875.16 | 1333024874.13 |           | 
    8917 | APP_START    | 2012-03-29 08:41:15.449043 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-7729;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8918 | CHAN_START   | 2012-03-29 08:41:15.449351 |             | Tux        | 1000       |            |           |          | s               | default     | SIP/k6ztm5-00000008               |          |                      |        3 |             |             | 1333024875.17 | 1333024874.13 |           | 
    8919 | ANSWER       | 2012-03-29 08:41:17.624003 |             | Tux        | 1000       | 1000       |           |          | dial_from_queue | default     | SIP/k6ztm5-00000008               | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024875.17 | 1333024874.13 |           | 
    8920 | ANSWER       | 2012-03-29 08:41:17.624122 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-7729;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8921 | BRIDGE_START | 2012-03-29 08:41:17.624159 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-7729;2         | Dial     | SIP/k6ztm5,30,       |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8922 | ANSWER       | 2012-03-29 08:41:17.624454 |             | Tux        | 1000       |            |           |          | 1000            | default     | Local/1000@default-7729;1         |          |                      |        3 |             |             | 1333024875.14 | 1333024874.13 |           | 
    8923 | ANSWER       | 2012-03-29 08:41:17.62448  |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333024875.16 | 1333024874.13 |           | 
    8924 | BRIDGE_START | 2012-03-29 08:41:17.632978 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | queue       | SIP/pcm_dev-00000007              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8925 | HANGUP       | 2012-03-29 08:41:17.767612 |             | Tux        | 1000       | 1000       |           |          |                 | user        | Local/1000@default-7729;1<ZOMBIE> | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024875.17 | 1333024874.13 |           | 
    8926 | CHAN_END     | 2012-03-29 08:41:17.767645 |             | Tux        | 1000       | 1000       |           |          |                 | user        | Local/1000@default-7729;1<ZOMBIE> | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024875.17 | 1333024874.13 |           | 
    8927 | HANGUP       | 2012-03-29 08:41:17.767733 |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-7729;2         |          |                      |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8928 | CHAN_END     | 2012-03-29 08:41:17.76776  |             | 5555555555 | 5555555555 | 5555555555 |           |          | dial_from_queue | user        | Local/1000@default-7729;2         |          |                      |        3 |             |             | 1333024875.15 | 1333024874.13 |           | 
    8929 | BRIDGE_END   | 2012-03-29 08:41:22.12071  |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | 1001            | default     | SIP/pcm_dev-00000007              | Queue    | operator,tT,,,,,,,,, |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8930 | HANGUP       | 2012-03-29 08:41:22.125079 |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333024875.16 | 1333024874.13 |           | 
    8931 | HANGUP       | 2012-03-29 08:41:22.125103 |             | Tux        | 1000       |            |           |          | 1000            | default     | SIP/k6ztm5-00000008               |          |                      |        3 |             |             | 1333024875.14 | 1333024874.13 |           | 
    8932 | CHAN_END     | 2012-03-29 08:41:22.125151 |             | Tux        | 1000       |            |           |          | 1000            | default     | SIP/k6ztm5-00000008               |          |                      |        3 |             |             | 1333024875.14 | 1333024874.13 |           | 
    8933 | CHAN_END     | 2012-03-29 08:41:22.125209 |             |            | 447        |            |           |          | s               | default     | Agent/9999                        | AppQueue | (Outgoing Line)      |        3 |             |             | 1333024875.16 | 1333024874.13 |           | 
    8934 | APP_START    | 2012-03-29 08:41:22.194926 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | user        | SIP/pcm_dev-00000007              | Dial     | SIP/ge8xbi,30,       |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8935 | CHAN_START   | 2012-03-29 08:41:22.195135 |             | Père Noël  | 1001       |            |           |          | s               | default     | SIP/ge8xbi-00000009               |          |                      |        3 |             |             | 1333024882.18 | 1333024874.13 |           | 
    8936 | ANSWER       | 2012-03-29 08:41:25.236852 |             | Père Noël  | 1001       | 1001       |           |          | s               | default     | SIP/ge8xbi-00000009               | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024882.18 | 1333024874.13 |           | 
    8937 | BRIDGE_START | 2012-03-29 08:41:25.237116 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | user        | SIP/pcm_dev-00000007              | Dial     | SIP/ge8xbi,30,       |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8938 | BRIDGE_END   | 2012-03-29 08:41:25.829818 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | user        | SIP/pcm_dev-00000007              | Dial     | SIP/ge8xbi,30,       |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8939 | HANGUP       | 2012-03-29 08:41:25.830079 |             | Père Noël  | 1001       | 1001       |           |          |                 | user        | SIP/ge8xbi-00000009               | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024882.18 | 1333024874.13 |           | 
    8940 | CHAN_END     | 2012-03-29 08:41:25.830118 |             | Père Noël  | 1001       | 1001       |           |          |                 | user        | SIP/ge8xbi-00000009               | AppDial  | (Outgoing Line)      |        3 |             |             | 1333024882.18 | 1333024874.13 |           | 
    8941 | HANGUP       | 2012-03-29 08:41:25.830213 |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | user        | SIP/pcm_dev-00000007              |          |                      |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
    8942 | CHAN_END     | 2012-03-29 08:41:25.83061  |             | 5555555555 | 5555555555 | 5555555555 |           | 447      | s               | user        | SIP/pcm_dev-00000007              |          |                      |        3 |             |             | 1333024874.13 | 1333024874.13 |           | 
   (32 rows)

Userfield with CEL
------------------

The CEL table has a field named `userfield` which is void by default and which can be enriched from 
the dialplan with context information.
To set the value of the field from the dialplan you have to you the asterisk function 
`CHANNEL(userfield)`, for example::

   Set(CHANNEL(userfield)=${MY_DIALPLAN_VAR})

Note : for those who used the same `userfield` information in the CDR by calling 
the function `CDR(userfield)`, you have to replace it with the function `CHANNEL(userfield)`.
